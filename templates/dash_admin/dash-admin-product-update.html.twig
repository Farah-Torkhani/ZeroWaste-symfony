{% extends 'dash_admin/dashAdminBase.html.twig' %}

{% block product_active %}active{% endblock %}

{% block dashContent %}

<div class="dash__container">
  <nav class="dash__navbar">
    <div class="dash__navbar-text">Dashboard</div>
    <div class="navbar__items">
      <span class="navbar__item">
        <i class="bx bx-log-out item"></i>
      </span>

      <div class="notification-icon">
        <span class="cart-icon__span">3</span>
        <span class="navbar__item">
          <i class="bx bx-bell item"></i>
        </span>
      </div>

      <span class="dash__top-bar__fullname"> Braiek Ali </span>

      <div class="dash__top-bar__img-container">
        <a href="#">
          <img
            src="{{asset('./contents/img/ali.jpg')}}"
            class="dash__top-bar__img"
            alt="profile"
          />
        </a>
      </div>
    </div>
  </nav>
  <!--end dash__navbar-->

  <div class="dash__container-card">
    <div class="dash__card">
      <div class="product">
        {{form_start(formProduct)}}
        <div class="product-add-card">
          <div class="product-add-card__header">
            <h1 class="product-add-card__header-h1">Product details</h1>
            <div class="product-add-card__header-icon">
              <svg
                id="product-add-card__header-icon-svg"
                class="product-add-card__header-icon-svg"
                viewBox="0 0 24 24"
                fill="#97D158"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="12"
                  cy="12"
                  r="8"
                  class="product-add-card__header-icon-svg-circle"
                  stroke="none"
                  stroke-width="1.5"
                ></circle>
                <path
                  fill="#fff"
                  d="M14.325 9.956c0 .298-.103.605-.308.924a3.726 3.726 0 01-.68.786c-.657.566-.987.983-.987 1.252 0 .595-.233.892-.7.892a.688.688 0 01-.531-.233c-.135-.156-.202-.365-.202-.627s.064-.506.191-.732c.135-.234.294-.44.478-.616.184-.184.368-.361.552-.531.453-.41.68-.782.68-1.115a.627.627 0 00-.277-.53.957.957 0 00-.615-.213.943.943 0 00-.606.212c-.17.135-.332.273-.488.414a.738.738 0 01-.51.202.614.614 0 01-.467-.19.68.68 0 01-.18-.468c0-.333.23-.669.69-1.009a2.47 2.47 0 011.518-.52c.722 0 1.31.202 1.763.605.452.404.679.903.679 1.497zm-2.697 4.449c.248 0 .443.081.584.244.142.156.213.35.213.584a.959.959 0 01-.245.637.787.787 0 01-.615.276.721.721 0 01-.574-.244.903.903 0 01-.201-.595c0-.234.078-.442.233-.626a.776.776 0 01.605-.276z"
                  style="
                    animation: n-info-ques 0.8s
                      cubic-bezier(0.455, 0.03, 0.515, 0.955) both infinite;
                  "
                ></path>
              </svg>
            </div>
          </div>

          <p class="product-add-card__header-description">
            Add details of your product to help clients find out
          </p>
          <hr class="hr-border" />

          <div class="product-add-form__input__group">
            <label for="productName" class="product-add-form__input__label"
              >Name <span>*</span></label
            >
            {{form_widget(formProduct.nomProduit,{'attr':{'class':'product-add-form__input','placeholder':"Name"}})}}
            {% if form_errors(formProduct.nomProduit) is not empty %}
              <div class="form_errors-product">
                {{form_errors(formProduct.nomProduit)}}
              </div>
            {% endif %}
          </div>

          <div class="product-add-form__input__group">
            <label
              for="productDescription"
              class="product-add-form__input__label"
              >Description <span>*</span></label
            >
            {{form_widget(formProduct.description,{'attr':{'class':'product-add-form__input textarea','placeholder':"Description"}})}}
            {% if form_errors(formProduct.description) is not empty %}
              <div class="form_errors-product">
                {{form_errors(formProduct.description)}}
              </div>
            {% endif %}
          </div>

          <!--end div category-->

          <div class="product-add-form__input__group-row">
            <div class="product-add-form__input__group">
              <label for="productPrice" class="product-add-form__input__label"
                >Category <span>*</span></label
              >
              {{form_widget(formProduct.categorieProduit,{'attr':{'class':'product-add-form__input product-add-form__input__label-Price','placeholder':"Category"}})}}
              {% if form_errors(formProduct.categorieProduit) is not empty %}
                <div class="form_errors-product">
                  {{form_errors(formProduct.categorieProduit)}}
                </div>
              {% endif %}
            </div>

            <div class="product-add-form__input__group">
              <label for="productNumber" class="product-add-form__input__label"
                >Number <span>*</span></label
              >
              {{form_widget(formProduct.quantite,{'attr':{'class':'product-add-form__input','placeholder':"Number"}})}}
              {% if form_errors(formProduct.quantite) is not empty %}
                <div class="form_errors-product">
                  {{form_errors(formProduct.quantite)}}
                </div>
              {% endif %}
            </div>
          </div>

          <div class="product-add-form__input__group-row">
            <div class="product-add-form__input__group">
              <label for="productPrice" class="product-add-form__input__label"
                >Price <span>*</span></label
              >
              {{form_widget(formProduct.prixProduit,{'attr':{'class':'product-add-form__input product-add-form__input__label-Price','placeholder':"Price"}})}}
              {% if form_errors(formProduct.prixProduit) is not empty %}
                <div class="form_errors-product">
                  {{form_errors(formProduct.prixProduit)}}
                </div>
              {% endif %}
            </div>

            <div class="product-add-form__input__group">
              <label for="productNumber" class="product-add-form__input__label"
                >Points <span>*</span></label
              >
              {{form_widget(formProduct.prix_point_produit,{'attr':{'class':'product-add-form__input','placeholder':"Points"}})}}
              {% if form_errors(formProduct.prix_point_produit) is not empty %}
                <div class="form_errors-product">
                  {{form_errors(formProduct.prix_point_produit)}}
                </div>
              {% endif %}
            </div>
          </div>

          <hr class="hr-border hr-border-2" />
          <div class="product-add-form__input__group">
            <label for="productImage" class="product-add-form__input__label"
              >Image <span>*</span></label
            >
            <div class="product-add-form-image">
              <div class="prouct-add-form-image__container">
                <i class="bx bx-cloud-upload" style="display:none"></i>

                <img
                  class="prouct-add-form-image__img"
                  src="{{asset('./contents/uploads/products/') ~ product.image}}"
                  alt=""
                  id="prouct-add-form-image__img"
                  accept="image/*"
                  
                />
              </div>
              <div class="prouct-add-form-image__description">
                <p>
                  Resolution : 1920x1080 px <br />
                  Supported file types : jpg, <br />
                  .jpeg ,. gif ou .png No text<br />
                  on the image.
                </p>
                <div class="prouct-add-form-image__add">
                  {{ form_label(formProduct.Image, 'Change the photo:', {'label_attr': {'class': 'prouct-add-form-image__addBtn','for': 'prouct-add-form-image__file-btn'}}) }}
                  {{form_widget(formProduct.Image,{'attr':{'class':'prouct-add-form-image__file-btn','name':'prouct-add-form-image__file-btn','id':'prouct-add-form-image__file-btn', 'style': 'display: none;'}})}}
                  {% if form_errors(formProduct.Image) is not empty %}
                    <div class="form_errors-product">
                      {{form_errors(formProduct.Image)}}
                    </div>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          <hr class="hr-border hr-border-2" />
          <!--end add product card-->
          <button type="submit" class="add-new-product__submit-btn">
            {{button_label | default('Update Product')}}
          </button>
        </div>
        {{form_end(formProduct)}}

        <!--product add card detail-->
        <div class="product-add-details"></div>
      </div>
    </div>
  </div>
</div>

{% endblock %}

  {% block JsScript %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>console.log("Hello world!");
    $(function () {
  $("#product_Image").change(function (event) {
    console.log(URL.createObjectURL(event.target.files[0]));
    var x = URL.createObjectURL(event.target.files[0]);
    $("#prouct-add-form-image__img").attr("src", x);
    $("#prouct-add-form-image__img").show(0);
    $(".bx-cloud-upload").hide(0);

    console.log(x);
  });
});
    </script>
{% endblock %}