{% extends 'base.html.twig' %}


{% block stylesheets %}
<link rel="stylesheet" href="{{asset('./style/nabilStyle.css')}}">
<link rel="shortcut icon" href="{{asset('./assets/img/logo.svg')}}" type="image/x-icon">
{#
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> #}
{% endblock %}

{% block title %}
{{title}}
{% endblock %}

{% block javascripts %}
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
{#
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script> #}
{% endblock %}


{% block body %}


{% for message in app.flashes('warning') %}
<div class="flash flash__error">
    {{ message }}
</div>
{% endfor %}

{% for message in app.flashes('success') %}
<div class="flash flash__success">
    {{ message }}
</div>
{% endfor %}

<div class="form__container">

    <lottie-player class="form__ill__lottie-player" src="./assets/jsonAnimation/header2.json" background="transparent"
        speed="1" loop autoplay></lottie-player>

    <form class="form signupForm loginForm" method="post">
        {% if error %}
        <div class="flash flash__error">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}

        {# {% if app.user %}
        <div class="mb-3">
            You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
        {% endif %} #}

        <h1 class="form__heading">Log in</h1>

        <div class="form__input__group">
            <label class="form__input__label" for="inputEmail">Email</label>
            <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form__input"
                autocomplete="email" required autofocus placeholder="Email">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="form__input__icon">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
        </div>


        <div class="form__input__group">
            <label class="form__input__label" for="inputPassword">Password</label>
            <input type="password" name="password" id="inputPassword" class="form__input"
                autocomplete="current-password" required placeholder="Password">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" class="form__input__icon">
                <path
                    d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4">
                </path>
            </svg>
        </div>

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        {#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" name="_remember_me"> Remember me
            </label>
        </div>
        #}

        <button class="navigation__primary-btn form__btn" type="submit">
            Log in
        </button>

        <p class="form__member">
            You don't have an account!
            <a class="form__member__link" href="{{path('app_registration')}}">Sign up!</a>
        </p>

        <p class="form__member">
            <a class="form__member__link" href="{{path('app_user_forgot_password')}}">Forgot password?</a>
        </p>
    </form>

</div>

{% endblock %}